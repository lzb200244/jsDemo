<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title> 行内编辑</title>
    <style>
        th {
            width: 150px;

        }
    </style>
</head>
<body>
<table border="1">
    <thead>
    <tr>
        <th>Month</th>
        <th>Savings</th>
    </tr>
    </thead>

    <tbody id="tbody">
    <tr>
        <td>
            <span>Juw</span>
        </td>
        <td>
            <span>110&</span>
        </td>
    </tr>
    <tr>
        <td>
            <span>February</span>
        </td>
        <td>
            <span>80&</span>
        </td>
    </tr>
    </tbody>
</table>
</body>
<script>
    let status = false
    const spans = document.querySelectorAll("#tbody span")
    const tbody = document.getElementById("tbody")
    spans.forEach(item => {
        item.addEventListener('dblclick', function () {
            if (!status) {
                //当前进入编辑状态
                status = true
                const target = event.target
                const value = target.innerText
                target.style.display = 'none';
                const input = document.createElement("input")
                input.value = value
                target.parentElement.append(input)
                event.stopPropagation()
            }
        })
    })
    document.addEventListener("click", function () {
        //    全局监听
        //如果status===true就是说明当前有编辑页面
        if (status && event.target.tagName !== "INPUT") {
            //    找到里面唯一的input
            let input = tbody.querySelector("input")
            // input.
            let span = input.parentElement.querySelector('span')
            span.innerText = input.value
            span.style.display = 'block'
            //删除dom
            input.remove()
            status = false
        }
    })


</script>
</html>